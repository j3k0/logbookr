<!-- TODO:
     render specific input based on field type
 -->
<div class="procedure-field <%-field.name%>">
  <div class="procedure-description"><span>
    <%- field.description || field.name %>
  </span></div>

  <% if (field.type !== FieldModel.types.PHOTOS) { %>
    <!-- Non-photos field get simple input. -->
    <input type="text" class="js-procedure-input procedure-input procedure-<%-field.name%>"
           value="<%-value%>"
           data-attribute-name="<%-field.name%>"
           data-attribute-type="<%-field.type%>"
      <% if (field.type === FieldModel.types.CHOICETREE || field.type === FieldModel.types.DATE) { %>
           readonly
      <% } %>
    >
  <% } else { %>
    <!-- TODO:
         For now this only supports `photos` attribute,
         so creating more fields of type `photos` will not work correctly.
    -->

    <!-- Photos are an array of stuff you can add to. Each one is removable. -->
    <div class="procedure-photos">
      <ul>
        <% value.forEach(function (photo, idx) { %>
          <li class="procedure-photo" data-index="<%- idx %>">
            <img class="clickable js-photo-thumbnail" src="<%= photo.url%>" alt="<%= photo.legend%>">
          </li>
        <% }) %>

        <!-- TODO
         Though we process events based on this, not sure if adding
         `procedure-input` class here is nice, it's a link.
         Maybe attach js handler to differebt selector later.
         Would be nice to prefix non-css classes with somethin like 'js-' too!
        -->
        <li><span class="procedure-add-photo clickable procedure-input procedure-<%-field.name%>"
           data-attribute-name="<%-field.name%>"
           data-attribute-type="<%-field.type%>">
        </span></li>
      </ul>

      <div class="hidden js-photo">
        <div>
          <input type="text" class="js-photo-legend procedure-input">
          <a href="#" class="js-photo-delete"><%-tr('field.delete-photo')%></a>
        </div>
        <img class="js-photo-image">
    </div>
  <% } %>

</div>
